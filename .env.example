# ============================================================
# MongoDB Configuration
# ============================================================
# For local development using Docker Compose (docker-compose.yml):
#   MONGODB_URI is auto-configured by compose file
# For development using MongoDB Atlas (docker-compose.dev.yml):
#   Set your Atlas connection string below
# For production (AWS ECS):
#   Set in AWS Secrets Manager (see docs/AWS_ECS_DEPLOYMENT.md)
#
# Atlas connection string format:
#   mongodb+srv://<username>:<password>@<cluster>.mongodb.net/?retryWrites=true&w=majority
# ============================================================
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/?retryWrites=true&w=majority
DATABASE_NAME=customer_support_esc

# ============================================================
# OpenAI Configuration (for AI agents)
# ============================================================
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-3.5-turbo

# Telegram Configuration
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# SMTP Configuration (for escalation emails)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_gmail_address@gmail.com
SMTP_PASSWORD=your_gmail_app_password
SMTP_FROM=your_gmail_address@gmail.com
SMTP_USE_TLS=True
ESCALATION_DEFAULT_EMAIL=human_agent@yourcompany.com
ESCALATION_HANDOFF_MESSAGE=Sua solicitacao foi encaminhada para um atendente humano. Ticket: {ticket_id}. Em breve responderemos por aqui.

# ============================================================
# API Configuration
# ============================================================
# API_RELOAD: Enable hot-reload for development (set to False in production)
# API_PORT: Port exposed by the API container
# ============================================================
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=True

# JWT Configuration (for dashboard authentication)
JWT_SECRET_KEY=CHANGE_THIS_IN_PRODUCTION_TO_A_LONG_RANDOM_STRING
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ============================================================
# CORS Configuration (Cross-Origin Resource Sharing)
# ============================================================
# Comma-separated list of allowed origins
# Development default: http://localhost:3000,http://localhost:8501
# Production example: https://dashboard.yourdomain.com,https://api.yourdomain.com
# ============================================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8501,http://127.0.0.1:3000,http://127.0.0.1:8501

# ============================================================
# Agent Configuration
# ============================================================
# Settings for escalation and handoff to human agents
# ============================================================
ESCALATION_MAX_INTERACTIONS=2
ESCALATION_MIN_CONFIDENCE=0.6
ESCALATION_MIN_SENTIMENT=-0.7
ESCALATION_SLA_HOURS=4

# ============================================================
# Logging Configuration
# ============================================================
# Valid levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
# ============================================================
LOG_LEVEL=INFO
