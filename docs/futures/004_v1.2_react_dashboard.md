# MigraÃ§Ã£o Dashboard: Streamlit â†’ React

> **VersÃ£o Target:** V1.2
> **Status:** â³ Pendente
> **Owner:** Unassigned
> **Estimativa:** 40h

---

## DescriÃ§Ã£o

MigraÃ§Ã£o completa do dashboard de Streamlit para React, criando uma aplicaÃ§Ã£o frontend moderna, responsiva e performÃ¡tica. O novo dashboard manterÃ¡ todas as funcionalidades existentes e adicionarÃ¡ melhorias de UX.

---

## Passos de ImplementaÃ§Ã£o

### 1. AnÃ¡lise do Dashboard Streamlit Atual

- [ ] Mapear todas as pÃ¡ginas/views existentes (2h)
- [ ] Listar componentes e funcionalidades
- [ ] Documentar APIs consumidas
- [ ] Identificar gaps de UX para melhorar

**Features Existentes no Streamlit:**
- Ticket management (listagem, detail, status)
- Human takeover interface
- Message history viewer
- Logs viewer
- Basic analytics

---

### 2. Setup do Projeto React

- [ ] Inicializar projeto com Vite + React + TypeScript (1h)
- [ ] Configurar estrutura de pastas (1h)
- [ ] Setup de linting (ESLint, Prettier)
- [ ] Configurar Tailwind CSS ou CSS Modules

```bash
npx create-vite dashboard --template react-ts
cd dashboard
npm install
```

**Estrutura Proposta:**
```
dashboard/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ common/          # Button, Input, Modal, etc
â”‚   â”‚   â”œâ”€â”€ tickets/         # TicketList, TicketDetail, etc
â”‚   â”‚   â”œâ”€â”€ analytics/       # Charts, KPIs
â”‚   â”‚   â””â”€â”€ layout/          # Header, Sidebar, Footer
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚   â”‚   â”œâ”€â”€ Tickets.tsx
â”‚   â”‚   â”œâ”€â”€ Analytics.tsx
â”‚   â”‚   â””â”€â”€ Settings.tsx
â”‚   â”œâ”€â”€ hooks/               # Custom hooks
â”‚   â”œâ”€â”€ services/            # API clients
â”‚   â”œâ”€â”€ stores/              # Zustand/Redux stores
â”‚   â”œâ”€â”€ types/               # TypeScript types
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ public/
â”œâ”€â”€ package.json
â””â”€â”€ vite.config.ts
```

---

### 3. Componentes Core

- [ ] **Layout** (4h)
  - Header com navegaÃ§Ã£o e user info
  - Sidebar com menu
  - Responsive design (mobile-first)

- [ ] **Ticket Management** (8h)
  - TicketList com filtros e busca
  - TicketDetail com histÃ³rico de mensagens
  - TicketStatus badges
  - Pagination e infinite scroll

- [ ] **Human Takeover** (6h)
  - Real-time message sync (WebSocket ou polling)
  - Message composer
  - Quick actions (resolve, escalate)
  - Agent assignment UI

- [ ] **Analytics Dashboard** (6h)
  - KPI cards (tickets/day, resolution time, etc)
  - Charts (line, bar, pie) com Recharts ou Chart.js
  - Date range picker
  - Export to CSV

- [ ] **Logs Viewer** (4h)
  - Real-time log streaming
  - Level filtering (INFO, WARNING, ERROR)
  - Search functionality
  - Timestamp sorting

---

### 4. API Integration

- [ ] Configurar axios/fetch client (1h)
- [ ] Implementar authentication (JWT) (2h)
- [ ] Criar hooks para cada endpoint:
  - `useTickets()` - CRUD de tickets
  - `useMessages()` - HistÃ³rico de mensagens
  - `useAnalytics()` - MÃ©tricas
  - `useLogs()` - Logs

**Endpoints Existentes:**
```
GET  /api/tickets
GET  /api/tickets/{id}
PATCH /api/tickets/{id}
GET  /api/tickets/{id}/messages
POST /api/tickets/{id}/messages
GET  /api/analytics
GET  /api/logs
```

---

### 5. Testes

- [ ] Setup Jest + React Testing Library (1h)
- [ ] Unit tests para componentes core (4h)
- [ ] Integration tests para pÃ¡ginas (2h)
- [ ] E2E tests com Playwright ou Cypress (4h)

---

### 6. DocumentaÃ§Ã£o

- [ ] `docs/DASHBOARD.md` - Guia de uso
- [ ] `dashboard/README.md` - Setup e desenvolvimento
- [ ] Storybook para componentes (opcional)

---

### 7. Infraestrutura

- [ ] Dockerfile para build de produÃ§Ã£o
- [ ] Nginx config para SPA routing
- [ ] CI/CD para deploy (GitHub Actions)
- [ ] CDN setup para assets estÃ¡ticos

**Docker:**
```dockerfile
FROM node:20-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/conf.d/default.conf
```

---

## DependÃªncias

- V1.0 completo (APIs estÃ¡veis)
- Endpoints de API documentados
- JWT authentication implementado

---

## Stack TecnolÃ³gica

| Categoria | Tecnologia |
|-----------|------------|
| Framework | React 18 + TypeScript |
| Build Tool | Vite |
| Styling | Tailwind CSS |
| State | Zustand ou React Query |
| Charts | Recharts |
| HTTP | Axios |
| Testing | Jest + RTL + Playwright |
| Linting | ESLint + Prettier |

---

## ComparaÃ§Ã£o: Streamlit vs React

| Aspecto | Streamlit | React |
|---------|-----------|-------|
| Performance | ðŸŸ¡ MÃ©dio | ðŸŸ¢ Alto |
| CustomizaÃ§Ã£o | ðŸŸ¡ Limitado | ðŸŸ¢ Total |
| Mobile | ðŸ”´ Ruim | ðŸŸ¢ Responsivo |
| Real-time | ðŸŸ¡ Polling | ðŸŸ¢ WebSocket |
| Deploy | ðŸŸ¢ Simples | ðŸŸ¡ Requer CDN/Nginx |
| Dev Speed | ðŸŸ¢ RÃ¡pido | ðŸŸ¡ MÃ©dio |

---

## Milestones

1. **M1 (Week 1):** Setup + Layout + Routing
2. **M2 (Week 2):** Ticket Management completo
3. **M3 (Week 3):** Human Takeover + Real-time
4. **M4 (Week 4):** Analytics + Logs + Polish
5. **M5 (Week 5):** Testes + Docs + Deploy

---

## ReferÃªncias

- [React Documentation](https://react.dev/)
- [Vite Guide](https://vitejs.dev/guide/)
- [Tailwind CSS](https://tailwindcss.com/)
- [Recharts](https://recharts.org/)
- [React Query](https://tanstack.com/query/latest)
